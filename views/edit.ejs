<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="css/styles.css" />

    <title>Edit flight</title>
  </head>
  <body>
    <main class="main-div">
      <div class="container-fluid">
        <div class="row">
          <div class="col-2"></div>
          <div class="col-8">
            <h2>Edit Flight</h2>
            <form action="/editing" method="post">
              <div class="row">
                <div class="col">
                  <label>Origin:</label><br />
                  <select name="origin" class="form-select" required>
                    <option value="">--Choose a country--</option>
                    <% countries.forEach(country => { %>
                      <% if (country.name == row.origin){ %>
                    <option value="<%=country.name%>" selected><%=country.name%></option>
                    <% } else { %>
                    <option value="<%=country.name%>"><%=country.name%></option>
                    <% }; %> <% }); %>
                  </select>
                </div>
                <div class="col">
                  <label>Destiny:</label><br />
                  <select name="destination" class="form-select" required>
                    <option value="">--Choose a country--</option>
                    <% countries.forEach(country => { %>
                      <% if (country.name == row.destination){ %>
                    <option value="<%=country.name%>" selected><%=country.name%></option>
                    <% } else { %>
                    <option value="<%=country.name%>"><%=country.name%></option>
                    <% }; %> <% }); %>
                  </select>
                  <br />
                </div>
              </div>

              <div class="row">
                <div class="col">
                  <label>Price (from 1 to 9999):</label><br />
                  <div class="input-group">
                    <span class="input-group-text">$</span>
                    <input
                      type="number"
                      class="form-control"
                      name="price"
                      value="<%= row.price %>"
                      min="1"
                      max="9999"
                    /><br />
                  </div>
                </div>
                <div class="col">
                  <label>Airline:</label><br />
                  <select name="airline" class="form-select" required>
                    <option value="">--Choose an airline--</option>
                    <% if( row.airline == "Alpha Airlines") { %>
                    <option value="Alpha Airlines" selected>Alpha Airlines</option>
                    <option value="Omega Airlines">Omega Airlines</option>
                    <% } else { %>
                    <option value="Alpha Airlines">Alpha Airlines</option>
                    <option value="Omega Airlines" selected>Omega Airline</option>
                    <% }; %>
                  </select>
                  <br />
                </div>
              </div>
              <div class="row">
                <div class="col">
                  <label>Date:</label><br />
                  <input
                    type="date"
                    class="form-control"
                    name="date"
                    value="<%= row.departure_date %>"
                    min="1000-01-01"
                    max="9999-12-31"
                  /><br />
                </div>
                <div class="col d-flex align-items-center">
                  <input type="submit" class="btn btn-success" value="Confirm" />
                </div>
                <input type="hidden" name="id2edit" value="<%= row.id %> " />
              </div>
            </form>
          </div>
          <div class="col-2"></div>
        </div>
      </div>
    </main>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
